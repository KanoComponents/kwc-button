<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../kwc-style/kwc-style.html">
<link rel="import" href="../kwc-icons/kwc-icons.html">

<!--
`kwc-button`
An atomic button element with Kano styling

Custom property | Description | Default
----------------|-------------|----------
`--kwc-button-font` | Font for the element | `--font-body`

@group Kano Web Components
@demo demo/kwc-button.html
-->

<dom-module id="kwc-button">
  <template>
    <style>
        /** Button default */
        :host button {
            border: none;
            border-radius: 40px;
            color: white;
            cursor: pointer;
            display: inline-block;
            font-family: var(--kwc-button-font, var(--font-body));
            font-weight: bold;
            outline: none;
            overflow: hidden;
            padding: 0 22px;
            text-align: center;
            text-transform: uppercase;
            transition-property: background-color, border-color, color;
            transition-duration: 0.3s;
            transition-timing-function: ease;
            white-space: nowrap;
        }
        /** Sizes */
        :host([size="small"]) button {
            font-size: 12px;
            height: 32px;
            line-height: 32px;
        }
        :host([size="medium"]) button {
            font-size: 14px;
            height: 40px;
            line-height: 40px;
        }
        /** Square button */
        :host([square]) button {
            border-radius: 3px;
        }
        /** Default/filled button */
        :host([variant="primary"]) button {
            background-color: var(--color-kano-orange);
        }
        :host([variant="primary"]:hover) button,
        :host([variant="primary"]:focus) button {
            background-color: var(--color-flame);
        }
        :host([variant="secondary"]) button {
            background-color: var(--color-grassland);
        }
        :host([variant="secondary"]:hover) button,
        :host([variant="secondary"]:focus) button {
            background-color: var(--color-apple);
        }
        :host([variant="tertiary"]) button {
            background-color: var(--color-grey);
        }
        :host([variant="tertiary"]:hover) button,
        :host([variant="tertiary"]:focus) button {
            background-color: var(--color-chateau);
        }
        :host([variant="warning"]) button {
            background-color: var(--color-cinnabar);
        }
        :host([variant="warning"]:hover) button,
        :host([variant="warning"]:focus) button {
            background-color: var(--color-flamingo);
        }
        :host([variant="white"]) button {
            background-color: rgba(255, 255, 255, 1);
            color: var(--color-abbey);
        }
        :host([variant="white"]:hover) button,
        :host([variant="white"]:focus) button {
            background-color: rgba(255, 255, 255, 0.8);
            color: var(--color-abbey);
        }
        :host([variant="black"]) button {
            background-color: var(--color-black);
        }
        :host([variant="black"]:hover) button,
        :host([variant="black"]:focus) button {
            background-color: var(--color-abbey);
        }
        /** Outline button */
        :host([outline]) button,
        :host([outline]:hover) button,
        :host([outline]:focus) button {
            background-color: transparent;
            border-style: solid;
            border-width: 1px;
        }
        :host([outline][variant="primary"]) button {
            border-color: var(--color-kano-orange);
            color: var(--color-kano-orange);
        }
        :host([outline][variant="primary"]:hover) button,
        :host([outline][variant="primary"]:focus) button {
            border-color: var(--color-flame);
            color: var(--color-flame);
        }
        :host([outline][variant="secondary"]) button {
            border-color: var(--color-grassland);
            color: var(--color-grassland);
        }
        :host([outline][variant="secondary"]:hover) button,
        :host([outline][variant="secondary"]:focus) button {
            border-color: var(--color-apple);
            color: var(--color-apple);
        }
        :host([outline][variant="tertiary"]) button {
            border-color: var(--color-grey);
            color: var(--color-grey);
        }
        :host([outline][variant="tertiary"]:hover) button,
        :host([outline][variant="tertiary"]:focus) button {
            border-color: var(--color-chateau);
            color: var(--color-chateau);
        }
        :host([outline][variant="warning"]) button {
            border-color: var(--color-cinnabar);
            color: var(--color-cinnabar);
        }
        :host([outline][variant="warning"]:hover) button,
        :host([outline][variant="warning"]:focus) button {
            border-color: var(--color-flamingo);
            color: var(--color-flamingo);
        }
        :host([outline][variant="white"]) button {
            border-color: rgba(255, 255, 255, 1);
            color: rgba(255, 255, 255, 1);
        }
        :host([outline][variant="white"]:hover) button,
        :host([outline][variant="white"]:focus) button {
            border-color: rgba(255, 255, 255, 0.8);
            color: rgba(255, 255, 255, 0.8);
        }
        :host([outline][variant="black"]) button {
            border-color: var(--color-black);
            color: var(--color-black);
        }
        :host([outline][variant="black"]:hover) button,
        :host([outline][variant="black"]:focus) button {
            border-color: var(--color-abbey);
            color: var(--color-abbey);
        }
        /** Ghost button */
        :host([ghost][variant="primary"]):not([outline]) button {
            background-color: rgba(255, 105, 0, 0.4);
        }
        :host([ghost][variant="primary"]):not([outline]:hover) button,
        :host([ghost][variant="primary"]):not([outline]:focus) button {
            background-color: rgba(255, 105, 0, 0.8);
        }
        :host([ghost][variant="primary"][outline]) button {
            border-color: rgba(255, 105, 0, 0.4);
            color: rgba(255, 105, 0, 0.4);
        }
        :host([ghost][variant="primary"][outline]:hover) button,
        :host([ghost][variant="primary"][outline]:focus) button {
            border-color: rgba(255, 105, 0, 0.8);
            color: rgba(255, 105, 0, 0.8);
        }
        :host([ghost][variant="secondary"]):not([outline]) button {
            background-color: rgba(136, 196, 64, 0.4);
        }
        :host([ghost][variant="secondary"]):not([outline]:hover) button,
        :host([ghost][variant="secondary"]):not([outline]:focus) button {
            background-color: rgba(136, 196, 64, 0.8);
        }
        :host([ghost][variant="secondary"][outline]) button {
            border-color: rgba(136, 196, 64, 0.4);
            color: rgba(136, 196, 64, 0.4);
        }
        :host([ghost][variant="secondary"][outline]:hover) button,
        :host([ghost][variant="secondary"][outline]:focus) button {
            border-color: rgba(136, 196, 64, 0.8);
            color: rgba(136, 196, 64, 0.8);
        }
        :host([ghost][variant="tertiary"]):not([outline]) button {
            background-color: rgba(159, 164, 168, 0.4);
        }
        :host([ghost][variant="tertiary"]):not([outline]:hover) button,
        :host([ghost][variant="tertiary"]):not([outline]:focus) button {
            background-color: rgba(159, 164, 168, 0.8);
        }
        :host([ghost][variant="tertiary"][outline]) button {
            border-color: rgba(159, 164, 168, 0.4);
            color: rgba(159, 164, 168, 0.4);
        }
        :host([ghost][variant="tertiary"][outline]:hover) button,
        :host([ghost][variant="tertiary"][outline]:focus) button {
            border-color: rgba(159, 164, 168, 0.8);
            color: rgba(159, 164, 168, 0.8);
        }
        :host([ghost][variant="warning"]):not([outline]) button {
            background-color: rgba(246, 54, 54, 0.4);
        }
        :host([ghost][variant="warning"]):not([outline]:hover) button,
        :host([ghost][variant="warning"]):not([outline]:focus) button {
            background-color: rgba(246, 54, 54, 0.8);
        }
        :host([ghost][variant="warning"][outline]) button {
            border-color: rgba(246, 54, 54, 0.4);
            color: rgba(246, 54, 54, 0.4);
        }
        :host([ghost][variant="warning"][outline]:hover) button,
        :host([ghost][variant="warning"][outline]:focus) button {
            border-color: rgba(246, 54, 54, 0.8);
            color: rgba(246, 54, 54, 0.8);
        }
        :host([ghost][variant="white"]):not([outline]) button {
            background-color: rgba(255, 255, 255, 0.4);
            color: var(--color-abbey);
        }
        :host([ghost][variant="white"]):not([outline]:hover) button,
        :host([ghost][variant="white"]):not([outline]:focus) button {
            background-color: rgba(255, 255, 255, 0.8);
            color: var(--color-grey);
        }
        :host([ghost][variant="white"][outline]) button {
            border-color: rgba(255, 255, 255, 0.4);
            color: rgba(255, 255, 255, 0.4);
        }
        :host([ghost][variant="white"][outline]:hover) button,
        :host([ghost][variant="white"][outline]:focus) button {
            border-color: rgba(255, 255, 255, 0.8);
            color: rgba(255, 255, 255, 0.8);
        }
        :host([ghost][variant="black"]):not([outline]) button {
            background-color: rgba(41, 47, 53, 0.4);
        }
        :host([ghost][variant="black"]):not([outline]:hover) button,
        :host([ghost][variant="black"]):not([outline]:focus) button {
            background-color: rgba(41, 47, 53, 0.8);
        }
        :host([ghost][variant="black"][outline]) button {
            border-color: rgba(41, 47, 53, 0.4);
            color: rgba(41, 47, 53, 0.4);
        }
        :host([ghost][variant="black"][outline]:hover) button,
        :host([ghost][variant="black"][outline]:focus) button {
            border-color: rgba(41, 47, 53, 0.8);
            color: rgba(41, 47, 53, 0.8);
        }
        /** Transparent button */
        :host([transparent]) button,
        :host([transparent]:hover) button {
            background: transparent;
        }
        :host([transparent][outline]) button,
        :host([transparent][outline]:hover) button {
            border-color: transparent;
        }
        :host([transparent][variant="primary"]) button {
            color: var(--color-kano-orange);
        }
        :host([transparent][variant="primary"]:hover) button,
        :host([transparent][variant="primary"]:focus) button {
            color: var(--color-flame);
        }
        :host([transparent][variant="secondary"]) button {
            color: var(--color-grassland);
        }
        :host([transparent][variant="secondary"]:hover) button,
        :host([transparent][variant="secondary"]:focus) button {
            color: var(--color-apple);
        }
        :host([transparent][variant="tertiary"]) button {
            color: var(--color-grey);
        }
        :host([transparent][variant="tertiary"]:hover) button,
        :host([transparent][variant="tertiary"]:focus) button {
            color: var(--color-chateau);
        }
        :host([transparent][variant="warning"]) button {
            color: var(--color-cinnabar);
        }
        :host([transparent][variant="warning"]:hover) button,
        :host([transparent][variant="warning"]:focus) button {
            color: var(--color-flamingo);
        }
        :host([transparent][variant="white"]) button {
            color: rgba(255, 255, 255, 1);
        }
        :host([transparent][variant="white"]:hover) button,
        :host([transparent][variant="white"]:focus) button {
            color: rgba(255, 255, 255, 0.8);
        }
        :host([transparent][variant="black"]) button {
            color: var(--color-black)
        }
        :host([transparent][variant="black"]:hover) button,
        :host([transparent][variant="black"]:focus) button {
            color: var(--color-abbey);
        }
        /** Disabled button */
        :host([disabled]) button,
        :host([disabled]:hover) button,
        :host([disabled]:focus) button {
            background-color: var(--color-grey) !important;
            cursor: default;
        }
        :host iron-icon {
            display: inline-block;
            vertical-align: -5%;
        }
        :host([size="small"]) iron-icon {
            height: 12px;
            width: 12px;
        }
        :host([size="medium"]) iron-icon {
            height: 14px;
            width: 14px;
        }
    </style>
    <button disabled$="[[disabled]]" type="[[type]]">
        <template is="dom-if" if="[[_displayIcon]]">
            <iron-icon icon="[[iconId]]"></iron-icon>
        </template>
        <slot id="content"></slot>
    </button>
  </template>

  <script>
    Polymer({
      is: 'kwc-button',
      properties: {
            /**
             * Boolean to indicate whether the button is `active` or `disabled`
             */
            disabled: {
                type: Boolean,
                value: false,
                reflectToAttribute: true
            },
            _displayIcon: {
                type: Boolean,
                computed: '_iconProvided(iconId)'
            },
            /**
             * Boolean to indicate whether the button
             * is ghosted (semi-transparent)
             */
            ghost: {
                type: Boolean,
                value: false,
                reflectToAttribute: true
            },
            /**
             * String to indicate which button (if any) the button
             * should display
             */
            iconId: {
                type: String
            },
            /**
             * Boolean to indicate whether the button should only have
             * an outline
             */
            outline: {
                type: Boolean,
                value: false,
                reflectToAttribute: true
            },
            /**
             * Boolean to indicate whether the button should be square
             */
            size: {
                type: String,
                value: 'medium',
                reflectToAttribute: true
            },
            /**
             * Boolean to indicate whether the button should be square
             */
            square: {
                type: Boolean,
                value: false,
                reflectToAttribute: true
            },
            /**
             * Boolean to indicate whether the button should be
             * completely transparent
             */
            transparent: {
                type: Boolean,
                value: false,
                reflectToAttribute: true
            },
            type: {
                type: String,
                value: 'button'
            },
            /**
             * String to indicate the role played by the button, and the styling
             * it should use:
             *    - `primary`
             *    - `secondary`
             *    - `tertiary`
             *    - `warning`
             *    - `white`
             *
             * Named `type` to avoid clashes with the HTML `role` attribute
             */
            variant: {
                type: String,
                value: 'primary',
                reflectToAttribute: true
            }
        },
        _iconProvided (iconId) {
            return iconId !== undefined && iconId !== null;
        }
    });
  </script>
</dom-module>
